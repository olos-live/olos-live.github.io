<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>AgentHubClient - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-AgentHubClient.html">AgentHubClient</a><ul class='methods'><li data-type='method'><a href="module-AgentHubClient.html#.AgentHubClient">AgentHubClient</a></li><li data-type='method'><a href="module-AgentHubClient.html#connect">connect</a></li><li data-type='method'><a href="module-AgentHubClient.html#disconnect">disconnect</a></li><li data-type='method'><a href="module-AgentHubClient.html#isConnected">isConnected</a></li><li data-type='method'><a href="module-AgentHubClient.html#on">on</a></li></ul></li></ul><h3>Events</h3><ul><li><a href="module-AgentHubClient.html#event:connected">connected</a></li><li><a href="module-AgentHubClient.html#event:disconnected">disconnected</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">AgentHubClient</h1>
    

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    
        <div class="container-overview">
        
            
                <div class="description usertext"><p>This is the online documentation of the JavaScript library that a frontend application
can use to interact with the AgentHub service. The AgentHub service is part of
the Olos Communicator solution and is responsible for emitting events coming from
the Olos platform, that might be on-premises or in the cloud.</p>
<p>Example of utilization:</p>
<pre class="prettyprint source lang-javascript"><code> import { AgentHubClient } from &quot;./agenthub-client&quot;

 const agenthub = AgentHubClient(&quot;ws://csu.oloslive.com/socket&quot;)

 agenthub.on(&quot;connected&quot;, (agentInfo) => {
   console.log(&quot;Agent connected&quot;, agentInfo)
 })

 agenthub.on(&quot;disconnected&quot;, () => {
   console.log(&quot;Agent disconnected&quot;)
 })

 agenthub.on(&quot;screenPop&quot;, (event) => {
   console.log(&quot;Displaying a screen pop:&quot;, event)
 })

 agenthub.on(&quot;thirdParty&quot;, (event) => {
   console.log(&quot;Handling a 3rd party event:&quot;, event)
 })

 agenthub.connect(&quot;LdmTsQsGcJFHREsef3dffsw.HFURUDDDD.sforhJJG&quot;)
</code></pre>
<p>Instead of subscribing to individual events, you can subscribe to all
of them using the <code>any</code> wildcard:</p>
<pre class="prettyprint source"><code>  agenthub.on(&quot;any&quot;, (event) => {
    switch (event.eventType) {
      case &quot;screenPop&quot;:
        // do something with the screenPop event
      case &quot;thirdParty&quot;:
        // do something with the 3rd party event
      default:
        // log something like &quot;unsupported event type: ${eventType}&quot;
    }
  })
</code></pre>
<p>Example of an event from Olos:</p>
<pre class="prettyprint source"><code>{
    &quot;agentId&quot;: &quot;einstein&quot;,
    &quot;eventType&quot;: &quot;screenPop&quot;,
    &quot;channelType&quot;: &quot;voice&quot;,  
    &quot;channel&quot;: &quot;voice&quot;,
    &quot;eventData&quot;: {    
        &quot;campaingData&quot;: {
            &quot;someField&quot;: &quot;some value&quot;,
            &quot;anotherField&quot;: 1
        }
    }
}</code></pre></div>
            

            
                




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
































            
        
        </div>
    

    

    

    
    
    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".AgentHubClient"><span class="type-signature">(static) </span>AgentHubClient<span class="signature">(wsURL)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line89">line 89</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Returns an AgentHub Client object that you can use to interact with the
AgentHub service running in the given URL. The returned object exposes
all the functions you see listed below in this documentation page.</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const agenthub = AgentHubClient("ws://csu.oloslive.com/socket")</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>wsURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The websocket URL where the AgentHub service is listening.</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Throws:</h5>

        

    <div class="param-desc usertext">
    
        <p>An error if the URL is not informed.</p>
    
    </div>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>An object with all the functions listed below in this documentation page,
like connect, disconnect, on, etc...</p>
</div>



    



        
            

    

    <h4 class="name" id="connect"><span class="type-signature"></span>connect<span class="signature">(token)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line129">line 129</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Connects to the AgentHub server via websockets or http
long polling, authenticating via the given token.</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>agenthub.connect(getToken())</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The string representation of the user's access token (JWT)</p></td>
        </tr>

    
    </tbody>
</table>






<h5>Fires:</h5>
<ul>
    <li><a href="module-AgentHubClient.html#event:connected">module:AgentHubClient#event:connected</a></li>
</ul>














        
            

    

    <h4 class="name" id="disconnect"><span class="type-signature"></span>disconnect<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line140">line 140</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Disconnects from the AgentHub server.</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>agenthub.disconnect()</code></pre>








<h5>Fires:</h5>
<ul>
    <li><a href="module-AgentHubClient.html#event:disconnected">module:AgentHubClient#event:disconnected</a></li>
</ul>














        
            

    

    <h4 class="name" id="isConnected"><span class="type-signature"></span>isConnected<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line153">line 153</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Returns whether you re connected or not.</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>if (agenthub.isConnected()) {
  // render a green light
}</code></pre>


















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>true or false boolean value indicating whether you are connected or not.</p>
</div>



    



        
            

    

    <h4 class="name" id="on"><span class="type-signature"></span>on<span class="signature">(eventName, func)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line116">line 116</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Registers a callback function for the given event name.</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>agenthub.on("connected", () => console.log("Connected to AgentHub"))</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>eventName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the event you want to subscribe.</p>
<p>AgentHub own events:</p>
<ul>
<li><a href="module-AgentHubClient.html#event:connected">connected</a></li>
<li><a href="module-AgentHubClient.html#event:disconnected">disconnected</a></li>
</ul>
<p>Olos events:</p>
<ul>
<li>the list is huge, please refer to the user guides</li>
</ul>
<p>Wildcards:</p>
<ul>
<li>&quot;any&quot;: subscribe to all Olos events</li>
</ul></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>func</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The function that will be called when the event is fired.</p></td>
        </tr>

    
    </tbody>
</table>



















        
    

    

    
        <h3 class="subsection-title">Events</h3>

        
            

    

    <h4 class="name" id="event:connected">connected</h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line158">line 158</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Fired when you get connected to the AgentHub server.
The event payload contains agent information.</p>
</div>




























        
            

    

    <h4 class="name" id="event:disconnected">disconnected</h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line165">line 165</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Fired when you get disconnected from the AgentHub server. There is no payload.</p>
</div>




























        
    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.10</a> on Fri Jul 15 2022 09:55:22 GMT-0300 (Brasilia Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>